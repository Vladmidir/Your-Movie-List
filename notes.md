
## Notes

### General notes:
- App routing takes the following form `app.METHOD(PATH, HANDLER)

### Setup notes
- [followed this tutorial](https://www.freecodecamp.org/news/how-to-create-a-react-app-with-a-node-backend-the-complete-guide/)
- add a proxy path to our React package.json, so to not have to provide the origin on every request. `"proxy" : "http://localhost:8080"`
- we also remove git from client (React folder) to set up git globally (`rm -rf .git` inside client)
- Remeber to provide Node version for deployment (// server/package.json
```
"engines": {
  "node": "your-node-version"
})
```
- Remember to secure the Secret Key for the API in an environment file. [Here is a guide](https://medium.com/hackernoon/how-to-use-environment-variables-keep-your-secret-keys-safe-secure-8b1a7877d69c)


### Routing notes
- React Router `<Switch>` tag is different from `<Route>` tag in a way that `<Switch>` renders *exclusively*, where `<Route>` renders *inclusively*.[More on Switch](https://v5.reactrouter.com/web/api/Switch)
- I may need to use `<createBrowswerRouter>` instead of `<BrowserRouter>` to work with APIs.
- The primary goal of a data router is decoupling the data fetching from rendering

### Questions 
- Do I need semicolons in javascript?
- How to useEffect with APIs? [Skim this](https://react.dev/reference/react/useEffect)
- Method analogous to url_for() in Flask? **ANSWER:** `<Route>` has a property path='/some/path'.
- I should learn how to use routing. **ANSWER:** Use react-router library. 
- How to interact with API properly using React? 
- How to make templates like in Jinja? **ANSWER:** Use react-router library again.
- How to let the server handle the rendering? [Read this](https://reactrouter.com/en/main/guides/ssr) **ASWER:** Stay away from erver side rendering for now. Keep it in mind for future projects tho.
- I should get data from the server at every render to check for inputs and stuff (if I have forms).
- When changing routes I guess the new Route is rendered, that is when we again access data from the server.
- How do we avoid conflict between express.js routes and React routes? 
- How do we make the routes relative (for deployment)? Or will the automatically fix themselves during build?   


### Do next 
- [Read about Node.js](https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/Introduction) 
- [Read about using APIs with Node.js](https://rapidapi.com/blog/how-to-use-an-api-with-node-js/)
- Finishe setting up the server API.



### Server index.js commented
```js
const path = require('node:path');
const express = require("express")

//Not sure what process.env.PORT is for. I think it is for hosting oh Heroku? 
//Also the port for Heroku is 3001, I changed it for 8080
const PORT = process.env.PORT || 8080

const app = express()

//tell Node which files to serve 
//specifically we will serve from our `build` generated by React
//if a GET request comes in that is not handled by our /api route, our server will respond with our React app.
app.use(express.static(path.resolve(__dirname, "../client/build")))

//Create a route. THIS HAS TO BE ABOVE app.listen. Why tho? Probably because we want to configure routes, before listeting (running)
app.get("/hello", (req, res) => {
    res.json({message: "Hello world"})
})

//All other routes (GET requests) will return to the React app 
app.get("*", (req, res) => {
    res.sendFile(path.resolve(__dirname, "../client/build", "index.html"))
})

//I think this configures the port we are listeting to. The arrow function runs on connection?
app.listen(PORT, () => {
    console.log(`Server Listening on ${PORT}`)
})
```



### Usefull articles
- [React Router with Express](https://dev.to/nburgess/creating-a-react-app-with-react-router-and-an-express-backend-33l3)
- [React with Express (Typescript)](https://medium.com/bb-tutorials-and-thoughts/how-to-develop-and-build-react-app-with-nodejs-backend-typescript-version-27a6a283a7c5)

### Frontend ideas
- Arrange movies in user's list using drag and drop
- add cool animations to the homepage (movies flying in the background)

### Backend ideas
- All the user to email their movies list to themselves.